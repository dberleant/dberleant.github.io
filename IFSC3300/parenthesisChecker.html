<!DOCTYPE html>
<html>
<body>

<h2>Parenthesis Checker v2</h2>

<p id="demo"></p>

<button onclick="check();">Check for balanced parentheses</button>

<script>
let parenStack;
let expression = "Expression has not yet been set.";   

function check(){
   parenStack = [];
   expression = prompt("type in an arithmetic expression!");
   document.getElementById('demo').innerHTML 
      = "You typed: "+expression+"<br>";
   expression = expression.split("");
   document.getElementById('demo').innerHTML 
      += "Converted to an array of chars: "+expression+"<br>";

   for (index = 0 ; index < expression.length ; index++){
       if (expression[index]=== "(" ){
          document.getElementById("demo").innerHTML += "Pushing a '('"+"<br>";
          parenStack.push( "(" );
       }
       else if (expression[index]=== ")" ){
          if (parenStack.pop()===undefined){
             document.getElementById('demo').innerHTML 
                += "<b>No '(' to pop: Unbalanced!</b>";
             return;
          }
          else {document.getElementById("demo").innerHTML 
                += "Popping a '('"+"<br>";
          }
       }
   }
   if (parenStack[0]=== "(" ){
      document.getElementById('demo').innerHTML 
         += "<b>One or more ')' needed--&nbsp;&nbsp;&nbsp;"
            + "parenStack=="+parenStack
            + "&nbsp;&nbsp;&nbsp;--unbalanced!!!</b>";
   }
   else //If there was an extra ")" it would have 
        //returned earlier when that was detected
        {document.getElementById('demo').innerHTML 
        += "<b>Parentheses are balanced.</b>"}
}
</script>
</body>
</html> 
